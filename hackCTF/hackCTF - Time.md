# HackCTF - Time

---



![image](https://user-images.githubusercontent.com/33051018/69033034-5e44ff00-0a21-11ea-8464-5bad5926d350.png)

HackCTF의 **Time**문제이다.

바로 문제풀이로 들어가자.



### 문제풀이

---

>![image](https://user-images.githubusercontent.com/33051018/69033092-7fa5eb00-0a21-11ea-8d69-45c66d64a4a9.png)
>
>문제 설명에 기재되어진 URL로 이동하면 위와 같은 페이지를 확인할 수 있다.
>
>`GET`방식으로 `time`변수에 값을 전달하고 해당 값이 숫자값인지 확인한다.
>
>이후. 해당 값이 정상범주에 들어있는지 확인한 뒤, `int`형으로 `Type Casting`한 이후, 해당 시간이 지난뒤 
>
>Flag를 출력해준다.
>
>물론 코드 흐름상 일정 시간이 지나면 가능하지만 해당 범주가 2달 ~ 3달 사이 값으로 입력이 되어야한다..
>
>필자는 2달~3달을 기달려 Flag를 받을 자신이 없어 편법을 이용한다.
>
>문제의 핵심은 **Line 11**에서 (int)로의 `Type Casting`이다.
>
>`PHP`에서 `int`형으로 자료형 변환시 `float`의 경우 소수점 뒤를 버려버린다.
>
>```php
><?php
>    var_dump(25/7);				// float(3.5714285714286)
>	var_dump((int) (25/7))		// int(3)
>    var_dump(round(25/7))		// float(4)
>?>
>```
>
>
>
>이 점을 이용하면 문제를 풀어낼 수 있다.
>
>일단 정상 범주 내 값을 입력해줘야 하므로 정상 범주 내 최소값을 확인한다.
>
>60 * 60 * 24 * 30 * 2 = 5184000 이다.
>
>즉, 최소 5184000 이상의 값을 입력해야한다.
>
>이를 지수형으로 표현해보면 **5.184000e6** , 5.184000*(10^6)이다.
>
>해당 값이 (int)형으로 형변환이 될 때는 소수점 이하는 잘려버리기 때문에 5초로 변환된다.
>
>따라서, 5초 이후 flag값을 출력한다.